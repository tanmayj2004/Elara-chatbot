<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title || 'Elara - Welcome to AI World' %></title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header class="header">
        <!-- for greeting -->
        <h2 class="title">Hello, there</h2>
        <h4 class="subtitle">How can I help you?</h4>

        <!-- for suggestion -->
        <ul class="suggtion_list">
            <% suggestions.forEach((suggestion) => { %>
                <li class="suggtion">
                    <h4 class="text"><%= suggestion.text %></h4>
                    <span class="iconss material-symbols-rounded"><%= suggestion.icon %></span>
                </li>
            <% }); %>
        </ul>
    </header>

    <div class="chat-list">
        <% if (messages && messages.length > 0) { %>
            <% messages.forEach((message) => { %>
                <div class="message <%= message.type %>">
                    <div class="message-content">
                        <img src="<%= message.avatar %>" alt="User Image" class="avatar"
                            style="height: 40px;width: 40px;object-fit: cover;border-radius: 50%;align-self: flex-start;">
                        <p class="text"><%= message.text %></p>
                    </div>
                    <% if (message.type === 'incoming') { %>
                        <span class="copy material-symbols-rounded">content_copy</span>
                    <% } %>
                </div>
            <% }); %>
        <% } %>
    </div>

    <div class="typing_area">
        <form action="#" class="typing_form">
            <div class="typing_text">
                <input placeholder="Enter prompt here" type="text" class="typing_input" required />
                <button class="icons material-symbols-rounded" id="send">send</button>
            </div>
            <div class="action_button">
                <span id="toggle-theme-button" class="icons material-symbols-rounded">light_mode</span>
                <span id="delete-chat-button" class="icons material-symbols-rounded">delete</span>
            </div>
        </form>
        <p class="disclaimer_text">
            Elara gives sometimes inaccurate info, including about people, so double-check its response.
        </p>
    </div>

    <script>
        const API_KEY = "<%= apiKey %>";
    </script>

    <script src="script.js"></script>
</body>

</html>
